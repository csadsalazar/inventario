-- Usar la base de datos
USE ADMINISTRATIVA;
GO

CREATE TABLE AL_INV.PA_TipoDocumento (
    PK_idTipoDocumento INT IDENTITY(1,1) PRIMARY KEY,
    nombre NVARCHAR(15) UNIQUE
);
GO

-- Insertar datos en PA_TipoDocumento
INSERT INTO AL_INV.PA_TipoDocumento (nombre) VALUES 
    (N'TI'),
    (N'CC'),
    (N'CE');
GO

CREATE TABLE AL_INV.PA_Cargo (
    PK_idCargo INT IDENTITY(1,1) PRIMARY KEY,
    nombre NVARCHAR(25) UNIQUE
);
GO

-- Insertar datos en PA_Cargo
INSERT INTO AL_INV.PA_Cargo (nombre) VALUES 
	(N'Jefe de oficina'),
	(N'Coordinador'),
	(N'Asesores'),
	(N'Profesional especializado'),
	(N'Profesional universitario'),
	(N'Tecnico operativo'),
	(N'Tecnico asistencial'),
	(N'Tecnico administrativo'),
	(N'Secretario'),
	(N'Auxiliar administrativo');
GO

-- Crear tabla MA_Dependencia
CREATE TABLE AL_INV.MA_Dependencia(
     PK_idDependencia INT IDENTITY(1,1) PRIMARY KEY,
     centroDeCosto VARCHAR(5),
     nombreDependencia VARCHAR(130) UNIQUE
);

-- Insertar datos en MA_Dependencia
INSERT INTO AL_INV.MA_Dependencia (centroDeCosto, nombreDependencia) VALUES
('600', N'DIRECCIÓN DE MEDICAMENTOS Y PRODUCTOS BIOLÓGICOS'),
('400', N'DIRECCIÓN DE ALIMENTOS Y BEBIDAS'),
('700', N'DIRECCIÓN DE OPERACIONES SANITARIAS'),
('500', N'DIRECCION DE DISPOSITIVOS MEDICOS Y OTRAS TECNOLOGIAS'),
('160', N'ATENCION AL CIUDADANO PISO'),
('300', N'DIRECCIÓN DE COSMETICOS, ASEO, PLAGUICIDAS Y PRODUCTOS DE HIGIENE DOMESTICA'),
('170', N'OFICINA DE ASUNTOS INTERNACIONALES'),
('800', N'DIRECCIÓN DE RESPONSABILIDAD SANITARIA'),
('100', N'DIRECCION GENERAL'),
('200', N'SECRETARIA GENERAL'),
('130', N'OFICINA DE CONTROL INTERNO'),
('203', N'GRUPO DE TESORERIA'),
('211', N'GRUPO DE SOPORTE TECNOLOGICO'),
('150', N'OFICINA DE TECNOLOGIAS DE LA INFORMACIÓN'),
('208', N'GRUPO DE GESTION ADMINISTRATIVA'),
('120', N'OFICINA ASESORA JURÍDICA'),
('110', N'OFICINA ASESORA DE PLANEACION'),
('202', N'GRUPO DE GESTIÓN CONTRACTUAL'),
('201', N'GRUPO FINANCIERO Y PRESUPUESTAL'),
('161', N'GRUPO DE COMUNICACIONES'),
('204', N'GRUPO DE TALENTO HUMANO'),
('214', N'GRUPO UNIDAD DE REACCIÓN INMEDIATA -GURI'),
('210', N'GRUPO DE INSTRUCCION DISCIPLINARIA'),
('142', N'GRUPO LABORATORIO FISICOQUIMICO DE ALIMENTOS Y BEBIDAS'),
('143', N'GRUPO LABORATORIO MICROBIOLOGIA DE ALIMENTOS Y BEBIDAS'),
('144', N'GRUPO LABORATORIO DE FISICOQUÍMICO DE PRODUCTOS FARMACÉUTICOS Y OTRAS TECNOLOGÍAS'),
('145', N'GRUPO DE LABORATORIO DE MICROBIOLOGÍA DE PRODUCTOS FARMACÉUTICOS Y OTRAS TECNOLOGÍAS'),
('140', N'OFICINA DE LABORATORIOS Y CONTROL DE CALIDAD'),
('146', N'GRUPO LABORATORIO DE PRODUCTOS BIOLOGICOS'),
('212', N'GRUPO DE GESTIÓN DOCUMENTAL Y CORRESPONDENCIA (INCLUYE DIFERENTES SEDES)'),
('148', N'GRUPO LABORATORIO FISICO-MECANICO DE DISPOSITIVOS MEDICOS Y OTRAS TECNOLOGIAS'),
('147', N'GRUPO LABORATORIO DE ORGANISMOS GENETICAMENTE MODIFICADOS -OGM'),
('141', N'GRUPO RED DE LABORATORIOS Y CALIDAD'),
('704', N'GRUPO DE TRABAJO TERRITORIAL CENTRO ORIENTE 2 (BOGOTA)'),
('205', N'ÁREA DE ALMACEN GENERAL E INVENTARIOS'),
('713', N'GRUPO DE CONTROL EN PUERTOS, AEROPUERTOS Y PASOS DE FRONTERA (AEROPUERTO BOGOTA)'),
('713A', N'GRUPO DE INSPECCIÓN VIGILANCIA Y CONTROL DE TRÁFICO POSTAL Y MENSAJERÍA EXPRESA'),
('724', N'OFICINA PUERTO DE SANTA MARTA'),
('720', N'OFICINA PASO FRONTERIZO DE PARAGUACHON (GUAJIRA)'),
('716', N'OFICINA PASO FRONTERIZO ARAUCA'),
('714', N'OFICINA DE IBAGUE'),
('705', N'GRUPO DE TRABAJO TERRITORIAL CENTRO ORIENTE 3 - NEIVA'),
('719', N'OFICINA PASO FRONTERIZO DE LETICIA'),
('725', N'OFICINA PASO FRONTERIZO DE SAN MIGUEL PUTUMAYO'),
('706', N'GRUPO DE TRABAJO TERRITORIAL COSTA CARIBE 1 - BARRANQUILLA'),
('721', N'OFICINA PUERTO DE BARRANQUILLA'),
('723', N'OFICINA PUERTO DE CARTAGENA'),
('709', N'GRUPO DE TRABAJO TERRITORIAL OCCIDENTE 2 - CALI'),
('722', N'OFICINA PUERTO DE BUENAVENTURA'),
('712', N'GRUPO DE APOYO A NARIÑO PASTO'),
('718', N'OFICINA PASO FRONTERIZO DE IPIALES'),
('708', N'GRUPO DE TRABAJO TERRITORIAL OCCIDENTE 1 - MEDELLIN'),
('715', N'OFICINA AEROPUERTO DE RIONEGRO'),
('703', N'GRUPO DE TRABAJO TERRITORIAL CENTRO ORIENTE 1 - BUCARAMANGA'),
('717', N'OFICINA PASO FRONTERIZO DE CÚCUTA'),
('710', N'GRUPO DE TRABAJO TERRITORIAL ORINOQUIA- VILLAVICENCIO'),
('711', N'GRUPO DE TRABAJO TERRITORIAL EJE CAFETERO - ARMENIA'),
('707', N'GRUPO DE TRABAJO TERRITORIAL COSTA CARIBE 2 - MONTERIA');
GO

	CREATE TABLE AL_INV.MA_Bien(
		idBien INT IDENTITY(1,1) PRIMARY KEY,
		PK_Codigo BIGINT UNIQUE,
		nombre NVARCHAR(50),
		placa INT UNIQUE,
		descripcion NVARCHAR(MAX),
		valor BIGINT,
		estado NVARCHAR(12),
		condicion NVARCHAR(10),
		imagenuno NVARCHAR(255),
		imagendos NVARCHAR(255),
		imagentres NVARCHAR(255),
		fecha DATETIME,
		fechaAdmin DATETIME,
		observacionAdmin NVARCHAR(MAX),
		FK_Usuario INT,
		FK_Dependencia INT,
		FK_UsuarioAdmin INT,
		FOREIGN KEY (FK_Usuario) REFERENCES dbo.MA_Usuario(PK_idUsuario) ON DELETE CASCADE,
		FOREIGN KEY (FK_UsuarioAdmin) REFERENCES dbo.MA_Usuario(PK_idUsuario) ON UPDATE CASCADE 
	);


CREATE TABLE AL_INV.MA_Usuario (
    PK_idUsuario INT IDENTITY(1,1) PRIMARY KEY,
    nombre NVARCHAR(50),
    cedula BIGINT NOT NULL,
    usuario NVARCHAR(20) NOT NULL,
    correo NVARCHAR(40),
    FK_Cargo INT,
    FK_Dependencia INT,
    FK_TipoDocumento INT,
    FK_Perfil INT,
    FOREIGN KEY (FK_Cargo) REFERENCES AL_INV.PA_Cargo(PK_idCargo) ON UPDATE CASCADE,
    FOREIGN KEY (FK_Dependencia) REFERENCES dbo.MA_Dependencia(PK_idDependencia) ON UPDATE CASCADE,
    FOREIGN KEY (FK_TipoDocumento) REFERENCES AL_INV.PA_TipoDocumento(PK_idTipoDocumento) ON UPDATE CASCADE,
    FOREIGN KEY (FK_Perfil) REFERENCES dbo.MA_Perfil(PK_idPerfil) ON UPDATE CASCADE
);
GO


CREATE TABLE AL_INV.PA_BienPorUsuario(
    PK_idBienPorUsuario INT IDENTITY(1,1) PRIMARY KEY,
    FK_Usuario INT,
    FK_Bien BIGINT,
    asunto NVARCHAR(100),
    informacion NVARCHAR(MAX),
    fechaObservacion DATETIME,
    FOREIGN KEY (FK_Usuario) REFERENCES AL_INV.MA_Usuario(PK_idUsuario),
    FOREIGN KEY (FK_Bien) REFERENCES AL_INV.MA_Bien(PK_Codigo) ON DELETE CASCADE
);



